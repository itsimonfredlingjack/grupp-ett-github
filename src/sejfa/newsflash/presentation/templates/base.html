<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}News Flash{% endblock %}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Napkin Sketch / Hand-Drawn Blueprint Theme */
            --ink: #00008B;
            --ink-75: rgba(0, 0, 139, 0.75);
            --ink-40: rgba(0, 0, 139, 0.40);
            --ink-20: rgba(0, 0, 139, 0.20);
            --ink-10: rgba(0, 0, 139, 0.10);
            --ink-06: rgba(0, 0, 139, 0.06);
            --ink-03: rgba(0, 0, 139, 0.03);
            --paper: #FFF9F0;
            --paper-card: #FFFEF8;
            --margin-red: rgba(210, 60, 60, 0.35);
        }

        /* Hidden SVG filter for wobbly sketch lines */
        .sketch-filter-defs {
            position: absolute;
            width: 0;
            height: 0;
            overflow: hidden;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Gentle pencil-tap animation */
        @keyframes sketch-jitter {
            0%, 100% { transform: rotate(0deg) translateY(0); }
            25% { transform: rotate(0.4deg) translateY(-1px); }
            75% { transform: rotate(-0.3deg) translateY(1px); }
        }

        /* Doodle pop-in */
        @keyframes sketch-pop {
            0% { transform: scale(0.97) rotate(-1deg); opacity: 0.7; }
            60% { transform: scale(1.02) rotate(0.5deg); }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        /* Underline draw animation */
        @keyframes sketch-underline {
            from { width: 0; }
            to { width: 100%; }
        }

        body {
            min-height: 100vh;
            font-family: 'Architects Daughter', 'Comic Sans MS', cursive;
            /* Lined notebook paper background */
            background-color: var(--paper);
            background-image:
                /* Red margin line */
                linear-gradient(90deg,
                    transparent 62px,
                    var(--margin-red) 62px,
                    var(--margin-red) 64px,
                    transparent 64px
                ),
                /* Horizontal ruled lines */
                repeating-linear-gradient(
                    transparent,
                    transparent 27px,
                    var(--ink-10) 27px,
                    var(--ink-10) 28px
                );
            background-attachment: local;
            color: var(--ink);
            position: relative;
            overflow-x: hidden;
            font-size: 16px;
            line-height: 1.7;
        }

        /* Headings — hand-lettered style */
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Architects Daughter', cursive;
            font-weight: normal;
            color: var(--ink);
            margin-bottom: 16px;
            line-height: 1.3;
            letter-spacing: 0.5px;
            position: relative;
        }

        h1 { font-size: 30px; }
        h2 { font-size: 24px; }
        h3 { font-size: 19px; }
        h4 { font-size: 16px; }

        /* Sketchy underline on headings */
        h1::after, h2::after {
            content: '';
            display: block;
            height: 3px;
            background: var(--ink-40);
            border-radius: 2px 4px 1px 3px;
            margin-top: 6px;
            transform: rotate(-0.3deg);
        }

        /* ─── HEADER ─── */
        .header {
            position: relative;
            z-index: 10;
            padding: 18px 30px;
            margin: 0;
            border-bottom: 3px solid var(--ink);
            /* Slightly wobbly border with box-shadow */
            box-shadow: 0 3px 0 var(--ink-20), 0 5px 0 var(--ink-10);
            background: var(--paper);
        }

        /* Doodle arrow pointing right in header */
        .header::before {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 80px;
            width: 120px;
            height: 8px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 8'%3E%3Cpath d='M2 5 Q30 2 60 5 Q90 8 115 4 L110 1 M115 4 L110 7' stroke='%2300008B' stroke-opacity='0.35' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            pointer-events: none;
        }

        .header__container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header__logo {
            font-family: 'Architects Daughter', cursive;
            font-size: 22px;
            font-weight: normal;
            color: var(--ink);
            letter-spacing: 1px;
            position: relative;
        }

        /* Circled/underlined logo doodle */
        .header__logo::before {
            content: '✏️ ';
            font-size: 18px;
        }

        .header__nav {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        /* Nav links as hand-drawn buttons */
        .header__link {
            font-family: 'Architects Daughter', cursive;
            font-size: 15px;
            font-weight: normal;
            color: var(--ink);
            text-decoration: none;
            padding: 8px 20px;
            border: 2px solid var(--ink);
            /* Wobbly hand-drawn rectangle border */
            border-radius: 255px 8px 225px 8px / 8px 225px 8px 255px;
            transition: background 0.15s ease;
            letter-spacing: 0.3px;
            background: transparent;
            position: relative;
        }

        .header__link::after {
            content: '';
            position: absolute;
            inset: 3px;
            border: 1px solid var(--ink-20);
            border-radius: 255px 8px 225px 8px / 8px 225px 8px 255px;
            pointer-events: none;
        }

        .header__link:hover {
            /* Light hatch fill on hover */
            background-image: repeating-linear-gradient(
                -45deg,
                transparent,
                transparent 4px,
                var(--ink-06) 4px,
                var(--ink-06) 5px
            );
        }

        /* ─── MAIN ─── */
        .main {
            position: relative;
            z-index: 10;
            max-width: 1200px;
            margin: 36px auto;
            padding: 0 24px;
            min-height: calc(100vh - 220px);
        }

        /* ─── FOOTER ─── */
        .footer {
            position: relative;
            z-index: 10;
            padding: 20px 30px;
            margin: 40px 0 0;
            border-top: 2px solid var(--ink-40);
            box-shadow: 0 -2px 0 var(--ink-10);
            background: var(--paper);
        }

        .footer__container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer__text {
            font-family: 'Architects Daughter', cursive;
            text-align: center;
            color: var(--ink-75);
            font-size: 14px;
        }

        .footer__text::before {
            content: '~ ';
        }
        .footer__text::after {
            content: ' ~';
        }

        /* ─── GLOBAL CARD / PANEL ─── */
        .card, .panel, [class*="card"], [class*="panel"] {
            background-color: var(--paper-card);
            /* Cross-hatch fill */
            background-image:
                repeating-linear-gradient(
                    -45deg,
                    transparent 0px, transparent 9px,
                    var(--ink-03) 9px, var(--ink-03) 10px
                ),
                repeating-linear-gradient(
                    45deg,
                    transparent 0px, transparent 9px,
                    var(--ink-03) 9px, var(--ink-03) 10px
                );
            border: 2px solid var(--ink);
            border-radius: 255px 8px 225px 8px / 8px 225px 8px 255px;
            padding: 24px;
            margin-bottom: 20px;
            transition: transform 0.15s ease;
            position: relative;
        }

        /* Inner sketch line for depth */
        .card::after, .panel::after,
        [class*="card"]::after, [class*="panel"]::after {
            content: '';
            position: absolute;
            inset: 5px;
            border: 1px solid var(--ink-20);
            border-radius: 255px 8px 225px 8px / 8px 225px 8px 255px;
            pointer-events: none;
        }

        .card::before, .panel::before,
        [class*="card"]::before, [class*="panel"]::before {
            display: none;
        }

        .card:hover, .panel:hover,
        [class*="card"]:hover, [class*="panel"]:hover {
            transform: translateY(-2px) rotate(0.3deg);
        }

        /* ─── BUTTONS ─── */
        button, .button, input[type="submit"] {
            font-family: 'Architects Daughter', cursive;
            font-weight: normal;
            background: transparent;
            background-image: repeating-linear-gradient(
                -45deg,
                transparent 0px, transparent 5px,
                var(--ink-06) 5px, var(--ink-06) 6px
            );
            color: var(--ink);
            border: 2px solid var(--ink);
            padding: 10px 26px;
            border-radius: 255px 8px 225px 8px / 8px 225px 8px 255px;
            cursor: pointer;
            font-size: 15px;
            transition: all 0.15s ease;
            letter-spacing: 0.5px;
            position: relative;
        }

        button::after, .button::after, input[type="submit"]::after {
            content: '';
            position: absolute;
            inset: 4px;
            border: 1px solid var(--ink-20);
            border-radius: 255px 8px 225px 8px / 8px 225px 8px 255px;
            pointer-events: none;
        }

        button:hover, .button:hover, input[type="submit"]:hover {
            background-image: repeating-linear-gradient(
                -45deg,
                transparent 0px, transparent 4px,
                var(--ink-10) 4px, var(--ink-10) 5px
            ),
            repeating-linear-gradient(
                45deg,
                transparent 0px, transparent 4px,
                var(--ink-10) 4px, var(--ink-10) 5px
            );
            transform: translateY(-1px) rotate(0.5deg);
        }

        button:active, .button:active, input[type="submit"]:active {
            transform: translateY(1px) rotate(-0.3deg);
        }

        button:focus, .button:focus, input[type="submit"]:focus {
            outline: 2px dashed var(--ink);
            outline-offset: 4px;
        }

        /* ─── INPUTS ─── */
        input, textarea, select {
            background: var(--paper);
            border: 2px solid var(--ink-75);
            border-radius: 4px 6px 4px 5px / 5px 4px 6px 4px;
            color: var(--ink);
            padding: 10px 14px;
            font-family: 'Architects Daughter', cursive;
            font-size: 15px;
            transition: border-color 0.15s ease;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--ink);
            border-width: 2px;
            box-shadow: 3px 3px 0 var(--ink-20);
        }

        input::placeholder, textarea::placeholder {
            color: var(--ink-40);
            font-style: italic;
        }

        /* ─── HERO SECTION ─── */
        .hero {
            padding: 40px 0;
            text-align: center;
        }

        .hero__container {
            max-width: 820px;
            margin: 0 auto;
            background-color: var(--paper-card);
            background-image:
                repeating-linear-gradient(
                    -45deg,
                    transparent 0px, transparent 9px,
                    var(--ink-03) 9px, var(--ink-03) 10px
                );
            border: 2px solid var(--ink);
            border-radius: 255px 12px 225px 12px / 12px 225px 12px 255px;
            padding: 50px 44px;
            position: relative;
            animation: sketch-jitter 6s ease-in-out infinite;
        }

        /* Corner doodle marks */
        .hero__container::before {
            content: '✕';
            position: absolute;
            top: 12px;
            left: 18px;
            font-size: 12px;
            color: var(--ink-40);
            line-height: 1;
        }

        .hero__container::after {
            content: '✕';
            position: absolute;
            bottom: 12px;
            right: 18px;
            font-size: 12px;
            color: var(--ink-40);
            line-height: 1;
        }

        .hero__heading {
            font-size: 42px;
            margin-bottom: 18px;
            letter-spacing: 1px;
            color: var(--ink);
            position: relative;
        }

        /* Rough underline on hero heading */
        .hero__heading::after {
            content: '';
            display: block;
            height: 3px;
            background: var(--ink-75);
            margin: 8px auto 0;
            width: 60%;
            border-radius: 2px 4px 1px 3px;
            transform: rotate(-0.5deg);
        }

        .hero__subtitle {
            font-size: 17px;
            color: var(--ink-75);
            margin-bottom: 34px;
            line-height: 1.8;
            font-style: italic;
        }

        .hero__button {
            display: inline-block;
            font-family: 'Architects Daughter', cursive;
            font-weight: normal;
            background-image: repeating-linear-gradient(
                -45deg,
                transparent 0px, transparent 5px,
                var(--ink-06) 5px, var(--ink-06) 6px
            );
            color: var(--ink);
            border: 2px solid var(--ink);
            padding: 14px 42px;
            text-decoration: none;
            font-size: 17px;
            border-radius: 255px 10px 225px 10px / 10px 225px 10px 255px;
            transition: all 0.15s ease;
            letter-spacing: 0.5px;
            position: relative;
        }

        .hero__button::after {
            content: ' →';
            font-style: normal;
        }

        .hero__button:hover {
            background-image: repeating-linear-gradient(
                -45deg,
                transparent 0px, transparent 4px,
                var(--ink-10) 4px, var(--ink-10) 5px
            ),
            repeating-linear-gradient(
                45deg,
                transparent 0px, transparent 4px,
                var(--ink-10) 4px, var(--ink-10) 5px
            );
            transform: translateY(-2px) rotate(0.5deg);
        }

        .hero__button:active {
            transform: translateY(1px) rotate(-0.3deg);
        }

        /* ─── FEATURES SECTION ─── */
        .features {
            padding: 40px 0;
        }

        .features__container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 28px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .features__card {
            background-color: var(--paper-card);
            background-image:
                repeating-linear-gradient(
                    -45deg,
                    transparent 0px, transparent 8px,
                    var(--ink-03) 8px, var(--ink-03) 9px
                );
            border: 2px solid var(--ink);
            border-radius: 255px 8px 225px 8px / 8px 225px 8px 255px;
            padding: 28px 26px;
            position: relative;
            transition: transform 0.15s ease;
        }

        /* Cards slightly skewed for that "doodled on paper" feel */
        .features__card:nth-child(1) { transform: rotate(-0.8deg); }
        .features__card:nth-child(2) { transform: rotate(0.5deg); }
        .features__card:nth-child(3) { transform: rotate(-0.4deg); }

        .features__card:nth-child(1):hover { transform: rotate(-0.4deg) translateY(-3px); }
        .features__card:nth-child(2):hover { transform: rotate(0.8deg) translateY(-3px); }
        .features__card:nth-child(3):hover { transform: rotate(-0.8deg) translateY(-3px); }

        /* Inner inset line */
        .features__card::after {
            content: '';
            position: absolute;
            inset: 5px;
            border: 1px solid var(--ink-20);
            border-radius: 255px 8px 225px 8px / 8px 225px 8px 255px;
            pointer-events: none;
        }

        .features__card::before {
            display: none;
        }

        .features__title {
            font-size: 18px;
            font-weight: normal;
            font-family: 'Architects Daughter', cursive;
            margin-bottom: 12px;
            color: var(--ink);
            letter-spacing: 0.5px;
            border-bottom: 1px solid var(--ink-20);
            padding-bottom: 8px;
        }

        .features__text {
            font-size: 15px;
            font-family: 'Architects Daughter', cursive;
            color: var(--ink-75);
            line-height: 1.8;
            font-style: italic;
        }

        /* ─── SUBSCRIBE SECTION ─── */
        .subscribe {
            padding: 40px 0;
        }

        .subscribe__container {
            max-width: 600px;
            margin: 0 auto;
        }

        .subscribe__heading {
            font-size: 28px;
            margin-bottom: 10px;
            text-align: center;
            color: var(--ink);
        }

        .subscribe__subtitle {
            font-size: 15px;
            font-family: 'Architects Daughter', cursive;
            color: var(--ink-75);
            margin-bottom: 28px;
            text-align: center;
            font-style: italic;
        }

        .subscribe__form {
            background-color: var(--paper-card);
            background-image:
                repeating-linear-gradient(
                    -45deg,
                    transparent 0px, transparent 9px,
                    var(--ink-03) 9px, var(--ink-03) 10px
                );
            border: 2px solid var(--ink);
            border-radius: 255px 12px 225px 12px / 12px 225px 12px 255px;
            padding: 36px 32px;
            position: relative;
        }

        .subscribe__form::after {
            content: '';
            position: absolute;
            inset: 6px;
            border: 1px solid var(--ink-20);
            border-radius: 255px 12px 225px 12px / 12px 225px 12px 255px;
            pointer-events: none;
        }

        .form__group {
            margin-bottom: 22px;
        }

        .form__label {
            display: block;
            font-family: 'Architects Daughter', cursive;
            font-size: 14px;
            font-weight: normal;
            color: var(--ink);
            margin-bottom: 8px;
            letter-spacing: 0.5px;
        }

        /* Asterisk hint label */
        .form__label::before {
            content: '> ';
            color: var(--ink-40);
        }

        .form__input {
            width: 100%;
        }

        .form__input--error {
            border-color: var(--ink);
            border-style: dashed;
        }

        .form__button {
            width: 100%;
            padding: 14px 20px;
            font-size: 16px;
            margin-top: 6px;
        }

        /* ─── FLASH & ERROR MESSAGES ─── */
        .error-banner, .flash-message {
            padding: 16px 22px;
            margin-bottom: 20px;
            border: 2px solid var(--ink);
            border-radius: 4px 8px 4px 6px / 6px 4px 8px 4px;
            font-family: 'Architects Daughter', cursive;
            font-size: 15px;
            letter-spacing: 0.3px;
            position: relative;
            animation: sketch-pop 0.3s ease-out;
            background-color: var(--paper-card);
            background-image: repeating-linear-gradient(
                -45deg,
                transparent 0px, transparent 6px,
                var(--ink-06) 6px, var(--ink-06) 7px
            );
        }

        .error-banner, .flash-message.error {
            border-style: dashed;
        }

        .flash-message.success {
            border-style: solid;
        }

        .error-banner::before, .flash-message.error::before {
            content: '⚠ ';
            font-weight: bold;
        }

        .flash-message.success::before {
            content: '✓ ';
            font-weight: bold;
        }

        /* ─── THANK YOU SECTION ─── */
        .thank-you {
            padding: 40px 0;
        }

        .thank-you__container {
            max-width: 720px;
            margin: 0 auto;
            text-align: center;
            background-color: var(--paper-card);
            background-image:
                repeating-linear-gradient(
                    -45deg,
                    transparent 0px, transparent 9px,
                    var(--ink-03) 9px, var(--ink-03) 10px
                );
            border: 2px solid var(--ink);
            border-radius: 255px 12px 225px 12px / 12px 225px 12px 255px;
            padding: 50px 44px;
            position: relative;
            animation: sketch-jitter 7s ease-in-out infinite;
        }

        .thank-you__container::before {
            content: '★';
            position: absolute;
            top: 14px;
            right: 20px;
            font-size: 16px;
            color: var(--ink-20);
        }

        .thank-you__container::after {
            content: '';
            position: absolute;
            inset: 6px;
            border: 1px solid var(--ink-20);
            border-radius: 255px 12px 225px 12px / 12px 225px 12px 255px;
            pointer-events: none;
        }

        .thank-you__heading {
            font-size: 30px;
            margin-bottom: 22px;
            color: var(--ink);
        }

        .thank-you__text {
            font-size: 16px;
            font-family: 'Architects Daughter', cursive;
            color: var(--ink-75);
            margin-bottom: 14px;
            line-height: 1.8;
            font-style: italic;
        }

        .thank-you__text strong {
            color: var(--ink);
            font-style: normal;
            text-decoration: underline;
            text-decoration-style: wavy;
            text-underline-offset: 3px;
        }

        .thank-you__button {
            display: inline-block;
            margin-top: 28px;
            font-family: 'Architects Daughter', cursive;
            font-weight: normal;
            background-image: repeating-linear-gradient(
                -45deg,
                transparent 0px, transparent 5px,
                var(--ink-06) 5px, var(--ink-06) 6px
            );
            color: var(--ink);
            border: 2px solid var(--ink);
            padding: 14px 40px;
            text-decoration: none;
            font-size: 16px;
            border-radius: 255px 10px 225px 10px / 10px 225px 10px 255px;
            transition: all 0.15s ease;
        }

        .thank-you__button::before {
            content: '← ';
        }

        .thank-you__button:hover {
            background-image: repeating-linear-gradient(
                -45deg,
                transparent 0px, transparent 4px,
                var(--ink-10) 4px, var(--ink-10) 5px
            ),
            repeating-linear-gradient(
                45deg,
                transparent 0px, transparent 4px,
                var(--ink-10) 4px, var(--ink-10) 5px
            );
            transform: translateY(-2px) rotate(-0.5deg);
        }

        /* ─── CODE BLOCKS ─── */
        code, pre, .data, [class*="code"], [class*="data"] {
            font-family: 'Courier New', monospace;
            color: var(--ink);
            background: var(--paper-card);
            border: 1px solid var(--ink-40);
            border-radius: 2px 4px 2px 3px;
            padding: 8px 14px;
            font-size: 13px;
        }
    </style>
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Hidden SVG defs for potential sketch filters -->
    <svg class="sketch-filter-defs" aria-hidden="true">
        <defs>
            <filter id="sketchy-border" x="-5%" y="-5%" width="110%" height="110%">
                <feTurbulence type="turbulence" baseFrequency="0.04" numOctaves="4" seed="5" result="noise"/>
                <feDisplacementMap in="SourceGraphic" in2="noise" scale="2" xChannelSelector="R" yChannelSelector="G"/>
            </filter>
        </defs>
    </svg>

    <header class="header">
        <div class="header__container">
            <h1 class="header__logo">Built with care by Simon</h1>
            <nav class="header__nav">
                <a href="{{ url_for('newsflash.index') }}" class="header__link">Home</a>
                <a href="{{ url_for('newsflash.subscribe') }}" class="header__link">Subscribe</a>
            </nav>
        </div>
    </header>

    <main class="main">
        {% block content %}{% endblock %}
    </main>

    <footer class="footer">
        <div class="footer__container">
            <p class="footer__text">&copy; 2026 News Flash. Stay informed.</p>
        </div>
    </footer>

    {% block scripts %}{% endblock %}
</body>
</html>
